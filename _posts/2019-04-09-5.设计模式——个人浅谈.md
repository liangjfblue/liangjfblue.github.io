---
layout:     post                  
title:      设计模式
subtitle:   设计模式——个人浅谈
date:       2019-04-09          
author:     Liangjf                  
header-img: img/post_bg_17.jpg
catalog: true                      
tags:                       
    - 设计模式
---

#设计模式——个人浅谈
![](https://i.imgur.com/uM76xRS.png)
###1.什么是设计模式
开篇先借用名人**Christopher Alexander**说过的一句话“每一个模式描述了一个在我们周围不断重复出现发生的问题，以及该问题的解决方案的核心。这样，你就能一次又一次地使用该方案而不必做重复劳动”。

这是**GOF**里对设计模式的一个形容。显而易见，设计模式是一个根据不断出现的常见问题而归纳出的一个**通用**的解决方案，有了它，可**避免做重复性的工作**。但是它又不一定是解决整个问题的全部，但肯定是**解决问题的核心**、解决方法架构。

一开始的时候，可能会被**“模式”**两个字吓到，其实设计模式没有那么神秘，说白了就是软件领域中根据对常见解决问题的方法逻辑总结出的一套通用性的设计思路。（学毛爷爷的，先在思想上藐视敌人，在战略上重视敌人^_^）。虽然只有23种设计模式（本系列只说GOF上的，不说特定领域的，比如分布式等特定的设计模式），但是要用活它们却绝非朝夕的事，需要在软件领域混一定的时间。当时当我们能够灵活的运用它们的时候，我们就能够成为软件领域的一名**画家**，设计出的软件可复用性强，可维护性强，拓展良好，拥有健壮的软件系统。

让我们先停下来想想生活中的事物，人类从远古到今天，其实一直在各个领域创造各种设计模式。比如，我们的祖先在捕猎时，从最初的毫无目的追赶猎物，到**包围圈型的放火缩小范围直至方便猎杀**。这就是一种远古人类的捕猎模式，到今天的生产车间，一条流水线下来，一个个产品就成型了，一条流水线就是由各个生产步骤组成的，这些步骤也是通过精心设计的，这就是生产模式。

是吧，设计模式随处可见呢！当然，对于看本文的我们来说，肯定是指软件领域中的设计模式。

###2.为什么需要设计模式
####2.1先从面向对象说起
编程需要两种思维：底层思维+抽象思维。

- 底层思维：向下把握机器底层，从微观理解对象构造（语言构造，编译转换，内存模型，运行时机制）
- 抽象思维：向上将我们所处的世界抽象成代码（面向对象，组件封装，设计模式，架构模式）

良好的**底层思维**需要做到：要深入的理解三大面向对象机制：封装、继承、多态。这是面向对象的三大特点。三者对应的实质是**《封装，隐藏内部实现》**、**《继承，复用现有代码》**、**《多态，改写对象行为》**。

良好的**抽象思维**需要做到：深刻把握 **面向对象机制** 带来的抽象意义，明白如何使用这些机制来表达现实世界，掌握什么是**好的面向对象设计**。

####2.2软件设计是复杂的
好了，到这里终于引出了**设计**二字了，好的面向对象设计不容易，因为软件设计是复杂的，需求时刻在改变，一个软件产品不可能一成不变的，所以在前期的设计中，如果一个设计方法不合理，没有考虑以后的拓展和维护，那这个软件工程必将是失败的，后果就是产品不盈利，然后项目成员没奖金，没得加工资，娶不到白富美了。

软件设计复杂的根本原因是：变化、变化、变化......客户需求的变化、技术平台的变化、开发团队的变化、市场环境的变化......

因此，应对变化，最好的办法是抽象化。在现实生活中，对于一般的事都有通用的规律，软件领域也是，通过归纳出通用的规律，抽象化，忽略研究对象的细节，而追究其核心规律，创造一个理想的对象模型。基于这个对象模型来编程，这样就能够更好的应对变化，因为离开具体细节，抽象化，所以能够复用。

###3.设计模式解决什么问题
通过上面的分析，设计模式就是用来解决软件设计中应对变化、变化、变化，提高软件复用性的良药。纵观优秀的开源软件，基本都可看到设计模式的存在，设计模式使软件更加可维护、可拓展、更加稳定、可复用性强。

###4.设计模式的终极目标
设计模式的最终目标，也可以说软件设计的终极理想目标是 **软件可复用** 。

###5.小结
设计模式在软件设计中非常非常非常重要，但是也不要为了用设计模式也违背项目开发的初衷，要视情况而用，要选择合适的设计模式，然后对比用与不用此设计模式的优缺点，是否影响性能等因素都要考虑，而不仅仅是一丝不考虑的用设计模式。设计模式用好了如有神助，用错了出力不讨好，严重的影响本来的软件性能出现bug。